{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noah Wotring\\\\Desktop\\\\Code\\\\ReactUserDataPractice\\\\my-app\\\\src\\\\pages\\\\Home.js\";\nimport React, { Component, useContext, useState, useEffect, setTimeOut } from 'react';\nimport SignIn from \"../components/SignIn\";\nimport NewsPost from '../components/NewsPost.js';\nimport './home.css';\nimport firebase, { generateNewsPosts, firestore } from '../firebase.js';\nimport { UserContext } from \"../providers/UserProvider\";\nimport { TheNumContext } from '../providers/NumberProvider';\n\nconst Home = () => {\n  const user = useContext(UserContext);\n  const num = useContext(TheNumContext);\n  const [posts, checkPosts] = useState([]);\n  const [potentialPost, editPotentialPost] = useState(\" \");\n  const [potentialPostTitle, editPotentialPostTitle] = useState(\" \");\n\n  const onChangeHandler = event => {\n    if (event.target.id === \"potentialPostText\") {\n      editPotentialPost(event.target.value);\n      console.log(potentialPost);\n    }\n\n    if (event.target.id === \"potentialPostTitle\") {\n      editPotentialPostTitle(event.target.value);\n    }\n  }; //\n\n\n  const generateNewsPosts = async () => {\n    let collectedPosts = [];\n    const postsRef = firestore.collection('posts');\n    const snapshot = await postsRef.get();\n\n    try {\n      const allPosts = await firestore.collection(`posts`).get();\n      allPosts.forEach(doc => {\n        collectedPosts.push({\n          title: doc.data().title,\n          body: doc.data().body\n        });\n      });\n      collectedPosts.forEach(doc => console.log(doc));\n      checkPosts(collectedPosts);\n    } catch (error) {\n      console.error(\"Error fetching data\", error);\n    }\n  }; //submitting new post\n\n\n  const submitNewPost = async (postTitle, postBody) => {\n    var endId = posts.length + 1;\n    var id = user ? user.uid : null;\n    var postData = {\n      user_id: id,\n      title: postTitle,\n      body: postBody\n    };\n    console.log(postData);\n    const res = await firestore.collection('/posts/').doc(`${endId}`).set({\n      user_id: id,\n      title: postTitle,\n      body: postBody\n    });\n    return;\n  };\n\n  useEffect(() => {\n    generateNewsPosts();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"text-center text-5xl mt-3 font-sans font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \" Home Yay\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      var userid = user ? user.uid : null;\n      var postData = {\n        postid: posts.length,\n        user_id: userid,\n        postTitle: potentialPostTitle,\n        postBody: potentialPost\n      };\n      console.log(postData);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \" click \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container news_post_container w-4/5 bg-blue-700 opacity-50 box item-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, posts.map(post => /*#__PURE__*/React.createElement(NewsPost, {\n    body: post.body,\n    title: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 32\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"submitPost container block bg-grey-600 rounded-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form block box-content w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center_block m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-center mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \" Submit a New Post \"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"labelinputblock label_block inline-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, \" Title \", \" \", \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"title_draft\",\n    onChange: event => onChangeHandler(event),\n    id: \"potentialPostTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 24\n    }\n  }), \" \", /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"post_draft block\",\n    value: potentialPost,\n    id: \"potentialPostText\",\n    onChange: event => onChangeHandler(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"block float-right m-3 shadow  \",\n    onClick: () => submitNewPost(potentialPostTitle, potentialPost),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, \" Submit \")))))));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/Noah Wotring/Desktop/Code/ReactUserDataPractice/my-app/src/pages/Home.js"],"names":["React","Component","useContext","useState","useEffect","setTimeOut","SignIn","NewsPost","firebase","generateNewsPosts","firestore","UserContext","TheNumContext","Home","user","num","posts","checkPosts","potentialPost","editPotentialPost","potentialPostTitle","editPotentialPostTitle","onChangeHandler","event","target","id","value","console","log","collectedPosts","postsRef","collection","snapshot","get","allPosts","forEach","doc","push","title","data","body","error","submitNewPost","postTitle","postBody","endId","length","uid","postData","user_id","res","set","userid","postid","map","post"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,UAA1B,EAAqCC,QAArC,EAA+CC,SAA/C,EAA0DC,UAA1D,QAA2E,OAA3E;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAO,YAAP;AACA,OAAOC,QAAP,IAAiBC,iBAAjB,EAAmCC,SAAnC,QAAmD,gBAAnD;AACA,SAAQC,WAAR,QAA0B,2BAA1B;AACA,SAAQC,aAAR,QAA4B,6BAA5B;;AAEA,MAAMC,IAAI,GAAG,MAAM;AACjB,QAAMC,IAAI,GAAGZ,UAAU,CAACS,WAAD,CAAvB;AACA,QAAMI,GAAG,GAAGb,UAAU,CAACU,aAAD,CAAtB;AACA,QAAK,CAACI,KAAD,EAAOC,UAAP,IAAqBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACe,aAAD,EAAeC,iBAAf,IAAoChB,QAAQ,CAAC,GAAD,CAAlD;AACA,QAAM,CAACiB,kBAAD,EAAoBC,sBAApB,IAA8ClB,QAAQ,CAAC,GAAD,CAA5D;;AAGA,QAAMmB,eAAe,GAAIC,KAAD,IAAW;AACjC,QAAGA,KAAK,CAACC,MAAN,CAAaC,EAAb,KAAoB,mBAAvB,EAA2C;AACzCN,MAAAA,iBAAiB,CAACI,KAAK,CAACC,MAAN,CAAaE,KAAd,CAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYV,aAAZ;AACD;;AACD,QAAGK,KAAK,CAACC,MAAN,CAAaC,EAAb,KAAoB,oBAAvB,EAA4C;AAC1CJ,MAAAA,sBAAsB,CAACE,KAAK,CAACC,MAAN,CAAaE,KAAd,CAAtB;AACD;AACF,GARD,CARiB,CAkBlB;;;AACC,QAAMjB,iBAAiB,GAAG,YAAY;AACpC,QAAIoB,cAAc,GAAG,EAArB;AACA,UAAMC,QAAQ,GAAGpB,SAAS,CAACqB,UAAV,CAAqB,OAArB,CAAjB;AACA,UAAMC,QAAQ,GAAG,MAAMF,QAAQ,CAACG,GAAT,EAAvB;;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMxB,SAAS,CAACqB,UAAV,CAAsB,OAAtB,EAA8BE,GAA9B,EAAvB;AACAC,MAAAA,QAAQ,CAACC,OAAT,CAAiBC,GAAG,IAAI;AACtBP,QAAAA,cAAc,CAACQ,IAAf,CAAoB;AAACC,UAAAA,KAAK,EAAEF,GAAG,CAACG,IAAJ,GAAWD,KAAnB;AACEE,UAAAA,IAAI,EAAEJ,GAAG,CAACG,IAAJ,GAAWC;AADnB,SAApB;AAGD,OAJD;AAKAX,MAAAA,cAAc,CAACM,OAAf,CAAwBC,GAAD,IAAST,OAAO,CAACC,GAAR,CAAYQ,GAAZ,CAAhC;AACAnB,MAAAA,UAAU,CAACY,cAAD,CAAV;AACC,KATH,CASI,OAAOY,KAAP,EAAc;AACdd,MAAAA,OAAO,CAACc,KAAR,CAAc,qBAAd,EAAqCA,KAArC;AACD;AACF,GAhBH,CAnBiB,CAoCf;;;AACA,QAAMC,aAAa,GAAG,OAAOC,SAAP,EAAiBC,QAAjB,KAA8B;AAClD,QAAIC,KAAK,GAAG7B,KAAK,CAAC8B,MAAN,GAAe,CAA3B;AACA,QAAIrB,EAAE,GAAGX,IAAI,GAAEA,IAAI,CAACiC,GAAP,GAAa,IAA1B;AACA,QAAIC,QAAQ,GAAG;AACbC,MAAAA,OAAO,EAAExB,EADI;AAEba,MAAAA,KAAK,EAAEK,SAFM;AAGbH,MAAAA,IAAI,EAAEI;AAHO,KAAf;AAKAjB,IAAAA,OAAO,CAACC,GAAR,CAAYoB,QAAZ;AAEA,UAAME,GAAG,GAAG,MAAMxC,SAAS,CAACqB,UAAV,CAAqB,SAArB,EAAgCK,GAAhC,CAAqC,GAAES,KAAM,EAA7C,EAAgDM,GAAhD,CAAoD;AACpEF,MAAAA,OAAO,EAAExB,EAD2D;AAEpEa,MAAAA,KAAK,EAAEK,SAF6D;AAGpEH,MAAAA,IAAI,EAAEI;AAH8D,KAApD,CAAlB;AAKA;AACD,GAhBD;;AAqBFxC,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,iBAAiB;AAClB,GAFQ,EAEP,EAFO,CAAT;AAIE,sBAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,mDAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAQ,IAAA,OAAO,EAAE,MAAM;AACrB,UAAI2C,MAAM,GAAGtC,IAAI,GAAEA,IAAI,CAACiC,GAAP,GAAa,IAA9B;AACA,UAAIC,QAAQ,GAAG;AACbK,QAAAA,MAAM,EAAGrC,KAAK,CAAC8B,MADF;AAEbG,QAAAA,OAAO,EAAEG,MAFI;AAGbT,QAAAA,SAAS,EAAEvB,kBAHE;AAIbwB,QAAAA,QAAQ,EAAE1B;AAJG,OAAf;AAKGS,MAAAA,OAAO,CAACC,GAAR,CAAYoB,QAAZ;AAAsB,KAP3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFF,eAUE;AAAK,IAAA,SAAS,EAAC,6EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,KAAK,CAACsC,GAAN,CAAWC,IAAD,iBAAU,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEA,IAAI,CAACf,IAArB;AAA2B,IAAA,KAAK,EAAEe,IAAI,CAACjB,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAApB,CADH,eAEE;AAAK,IAAA,SAAS,EAAC,mDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,+BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,0CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAgC,GAAhC,MADF,eAEE;AACE,IAAA,SAAS,EAAC,aADZ;AAEE,IAAA,QAAQ,EAAGf,KAAD,IAAWD,eAAe,CAACC,KAAD,CAFtC;AAGE,IAAA,EAAE,EAAC,oBAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,oBASS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATT,EASgB,GAThB,eAUE;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,KAAK,EAAEL,aAFT;AAGE,IAAA,EAAE,EAAC,mBAHL;AAIE,IAAA,QAAQ,EAAIK,KAAD,IAAWD,eAAe,CAACC,KAAD,CAJvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,eAgBI;AAAQ,IAAA,SAAS,EAAC,gCAAlB;AAAmD,IAAA,OAAO,EAAE,MAAMmB,aAAa,CAACtB,kBAAD,EAAoBF,aAApB,CAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhBJ,CAHF,CADA,CADF,CAFF,CAVF,CAHF;AA+CD,CA7GH;;AAgHA,eAAeL,IAAf","sourcesContent":["import React, {Component, useContext,useState, useEffect, setTimeOut} from 'react';\r\nimport SignIn from \"../components/SignIn\";\r\nimport NewsPost from '../components/NewsPost.js';\r\nimport './home.css';\r\nimport firebase,{generateNewsPosts,firestore}from  '../firebase.js'\r\nimport {UserContext} from \"../providers/UserProvider\";\r\nimport {TheNumContext} from '../providers/NumberProvider';\r\n\r\nconst Home = () => {\r\n  const user = useContext(UserContext);\r\n  const num = useContext(TheNumContext);\r\n  const[posts,checkPosts] = useState([]);\r\n  const [potentialPost,editPotentialPost] = useState(\" \");\r\n  const [potentialPostTitle,editPotentialPostTitle] = useState(\" \");\r\n\r\n\r\n  const onChangeHandler = (event) => {\r\n    if(event.target.id === \"potentialPostText\"){\r\n      editPotentialPost(event.target.value);\r\n      console.log(potentialPost);\r\n    }\r\n    if(event.target.id === \"potentialPostTitle\"){\r\n      editPotentialPostTitle(event.target.value)\r\n    }\r\n  }\r\n\r\n //\r\n  const generateNewsPosts = async () => {\r\n    let collectedPosts = [];\r\n    const postsRef = firestore.collection('posts');\r\n    const snapshot = await postsRef.get();\r\n    try {\r\n      const allPosts = await firestore.collection(`posts`).get();\r\n      allPosts.forEach(doc => {\r\n        collectedPosts.push({title: doc.data().title,\r\n                              body: doc.data().body\r\n                            })\r\n      });\r\n      collectedPosts.forEach((doc) => console.log(doc));\r\n      checkPosts(collectedPosts);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data\", error)\r\n      }\r\n    }\r\n    //submitting new post\r\n    const submitNewPost = async (postTitle,postBody) => {\r\n      var endId = posts.length + 1;\r\n      var id = user? user.uid : null;\r\n      var postData = {\r\n        user_id: id,\r\n        title: postTitle,\r\n        body: postBody\r\n      };\r\n      console.log(postData);\r\n\r\n      const res = await firestore.collection('/posts/').doc(`${endId}`).set({\r\n        user_id: id,\r\n        title: postTitle,\r\n        body: postBody\r\n      });\r\n      return\r\n    }\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    generateNewsPosts();\r\n  },[])\r\n\r\n    return (\r\n\r\n\r\n      <div>\r\n        <h1 className=\"text-center text-5xl mt-3 font-sans font-semibold\"> Home Yay</h1>\r\n        <button onClick={() => {\r\n          var userid = user? user.uid : null;\r\n          var postData = {\r\n            postid : posts.length,\r\n            user_id: userid,\r\n            postTitle: potentialPostTitle,\r\n            postBody: potentialPost\r\n          }; console.log(postData)}}> click </button>\r\n        <div className=\"container news_post_container w-4/5 bg-blue-700 opacity-50 box item-center \">\r\n          {posts.map((post) => <NewsPost body={post.body} title={post.title} />)}\r\n          <div className=\"submitPost container block bg-grey-600 rounded-lg\">\r\n            <div className=\"form block box-content w-full\">\r\n            <div className=\"center_block m-0\">\r\n              <h3 className=\"text-center mt-4\"> Submit a New Post </h3>\r\n\r\n              <form>\r\n                <div className=\"labelinputblock label_block inline-block\">\r\n                  <label className=\"ml-5\"> Title {\" \"} </label>\r\n                  <input\r\n                    className=\"title_draft\"\r\n                    onChange={(event) => onChangeHandler(event)}\r\n                    id=\"potentialPostTitle\"\r\n                  />\r\n                </div>\r\n                <br /> <br />{\" \"}\r\n                <textarea\r\n                  className=\"post_draft block\"\r\n                  value={potentialPost}\r\n                  id=\"potentialPostText\"\r\n                  onChange={((event) => onChangeHandler(event))}\r\n                  />\r\n                  <button className=\"block float-right m-3 shadow  \" onClick={() => submitNewPost(potentialPostTitle,potentialPost)}> Submit </button>\r\n                </form>\r\n                </div>\r\n              </div>\r\n           </div>\r\n\r\n         </div>\r\n\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}